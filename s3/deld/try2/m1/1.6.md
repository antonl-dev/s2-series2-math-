# Module 1: Number Systems and Logic Gate Fundamentals

## 1.6 Internal Diagram of TTL NAND Gate and CMOS NOR Gate

This section covers the internal transistor-level circuits for two fundamental gates from the TTL and CMOS logic families. Understanding these circuits is key to appreciating their performance characteristics.

### 1. TTL 2-Input NAND Gate

The standard TTL NAND gate circuit is known for its **multi-emitter input transistor** and its **totem-pole output stage**, which provides strong current sourcing and sinking capabilities for fast switching.

> **Visual Aid:** A clear diagram of this circuit is essential.
>
> [Click here to see a TTL NAND Gate Circuit Diagram](https://www.google.com/search?tbm=isch&q=TTL+2-input+NAND+gate+circuit+diagram)
>
> **What to look for:** A circuit with four transistors, typically labeled Q1, Q2, Q3, and Q4.
> *   **Q1** is the unique multi-emitter input transistor.
> *   **Q2** is the "phase splitter."
> *   **Q3 and Q4** are arranged in a "totem-pole" configuration at the output, along with a diode.

#### Circuit Operation

The circuit has three main stages:
1.  **Input Stage (Q1):** This BJT has multiple emitters, one for each input (A and B). It behaves like a set of AND-connected diodes.
2.  **Phase Splitter (Q2):** This transistor provides two complementary (opposite) signals to drive the output stage. When its collector is HIGH, its emitter is LOW, and vice-versa.
3.  **Totem-Pole Output Stage (Q3, Diode, Q4):** This is a push-pull output driver.
    *   **Q3** is the "pull-up" transistor, sourcing current from Vcc to make the output HIGH.
    *   **Q4** is the "pull-down" transistor, sinking current to ground to make the output LOW.
    *   Only one of these two transistors (Q3 or Q4) is ON at any given time.

**Case 1: Any Input is LOW (e.g., A=0V)**
1.  The base-emitter junction of Q1 corresponding to input A is forward-biased. Current flows from Vcc, through the resistor, to the base of Q1, and out through the emitter to the LOW input.
2.  Q1 turns ON and saturates. This pulls the voltage at the base of Q2 very low.
3.  With its base low, Q2 turns **OFF**.
4.  Since Q2 is OFF, its collector voltage rises towards Vcc, and its emitter voltage is 0V.
5.  The high voltage at Q2's collector turns **Q3 ON**.
6.  The low voltage at Q2's emitter turns **Q4 OFF**.
7.  With Q3 ON and Q4 OFF, the output is pulled **HIGH (Logic 1)**. This matches the behavior of a NAND gate.

**Case 2: All Inputs are HIGH (A=5V, B=5V)**
1.  Both base-emitter junctions of Q1 are reverse-biased. The base-collector junction of Q1 is now forward-biased.
2.  Current now flows from Vcc through the base-collector of Q1 into the base of Q2.
3.  This current turns **Q2 ON**.
4.  With Q2 ON, its emitter voltage goes high and its collector voltage goes low.
5.  The high voltage at Q2's emitter turns **Q4 ON**.
6.  The low voltage at Q2's collector turns **Q3 OFF**.
7.  With Q4 ON and Q3 OFF, the output is pulled **LOW (Logic 0)**. This also matches NAND gate behavior.

### 2. CMOS 2-Input NOR Gate

The CMOS gate uses a complementary pair of PMOS and NMOS transistors. The key to its design is the structure of the **pull-up network** (PMOS transistors) and the **pull-down network** (NMOS transistors). For a NOR gate, the pull-up is in series and the pull-down is in parallel.

> **Visual Aid:** The series/parallel structure is the most important concept here.
>
> [Click here to see a CMOS NOR Gate Circuit Diagram](https://www.google.com/search?tbm=isch&q=CMOS+2-input+NOR+gate+circuit+diagram)
>
> **What to look for:** A circuit with four transistors.
> *   Two **PMOS** transistors (often with a small circle at the gate) connected in **series** between the power supply (Vdd) and the output.
> *   Two **NMOS** transistors connected in **parallel** between the output and Ground.

#### Circuit Operation

*   **Pull-Up Network (PMOS in Series):** This network connects the output to Vdd (HIGH). Since the PMOS transistors are in series, the path is only complete if **both PMOS transistors are ON**. A PMOS transistor turns ON when its gate input is LOW (Logic 0).
*   **Pull-Down Network (NMOS in Parallel):** This network connects the output to Ground (LOW). Since the NMOS transistors are in parallel, the path is complete if **at least one NMOS transistor is ON**. An NMOS transistor turns ON when its gate input is HIGH (Logic 1).

**Case 1: All Inputs are LOW (A=0, B=0)**
1.  **Pull-Up:** With A=0 and B=0, both PMOS transistors turn **ON**. Since they are in series, a complete path is formed from Vdd to the output.
2.  **Pull-Down:** Both NMOS transistors turn **OFF**. The path to ground is broken.
3.  The output is pulled **HIGH (Logic 1)**. (0 NOR 0 = 1).

**Case 2: Any Input is HIGH (e.g., A=1, B=0)**
1.  **Pull-Up:** The PMOS connected to input A turns **OFF**. The PMOS connected to B turns ON. Since they are in series, the path to Vdd is broken because one of them is OFF.
2.  **Pull-Down:** The NMOS connected to input A turns **ON**. The NMOS connected to B is OFF. Since they are in parallel, a complete path is formed to ground through the NMOS for input A.
3.  The output is pulled **LOW (Logic 0)**. (1 NOR 0 = 0).

---

### Questions

1.  Draw and explain the internal diagram of a standard TTL NAND Gate. Explain the function of the totem-pole output stage.
2.  Draw the internal circuit diagram of a 2-input CMOS NOR gate.
3.  In the CMOS NOR gate circuit, why are the PMOS transistors connected in series while the NMOS transistors are in parallel?
4.  What would happen in the TTL NAND gate if both Q3 and Q4 were to conduct at the same time? (This is known as "shoot-through").
5.  How would you modify the pull-up and pull-down networks of a 2-input CMOS gate to create a NAND gate instead of a NOR gate?
