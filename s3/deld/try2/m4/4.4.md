## 4.4 Asynchronous Counters using flipflops

### 1. Introduction to Counters

A **counter** is a sequential logic circuit designed to count a sequence of events, usually in coordination with a clock signal. It is a register that progresses through a predetermined sequence of states. Counters are fundamental components in digital systems, used for:
*   Counting events.
*   Generating timing signals.
*   Dividing frequency.
*   Sequencing operations.

Counters are broadly classified into two types based on how their flip-flops are clocked:
1.  **Asynchronous (Ripple) Counters:** The flip-flops are not clocked simultaneously.
2.  **Synchronous Counters:** All flip-flops are clocked by the same clock signal at the same time.

This section focuses on **Asynchronous Counters**.

### 2. Asynchronous (Ripple) Counters

In an asynchronous counter, the flip-flops are not connected to a common clock. Instead, the first flip-flop (usually for the Least Significant Bit, LSB) is connected to the external clock signal, and the clock input of each subsequent flip-flop is triggered by the output of the preceding flip-flop.

**Key Characteristics:**
*   **Clocking:** The state change "ripples" through the chain of flip-flops, one after another. This is why it's also called a **ripple counter**.
*   **Simplicity:** They are simple to design and require minimal hardware.
*   **Speed Limitation:** The main disadvantage is their speed. The total time it takes for a count to propagate through all the flip-flops is the sum of the individual propagation delays of each flip-flop. This is known as the **total propagation delay (t_pd)**. This delay limits the maximum clock frequency at which the counter can operate reliably.

#### 2.1 A 3-Bit Asynchronous Up Counter

Let's design a counter that counts from 000 to 111 (0 to 7). We will use JK flip-flops configured to toggle.

*   **Configuration:** To make a JK flip-flop toggle, we must connect both its `J` and `K` inputs to a constant HIGH signal (Logic '1').
*   **Clocking:**
    *   The first flip-flop (FF0 for the LSB, Q₀) is clocked by the external clock.
    *   The second flip-flop (FF1 for Q₁) is clocked by the output of the first, `Q₀`.
    *   The third flip-flop (FF2 for the MSB, Q₂) is clocked by the output of the second, `Q₁`.
*   **Triggering:** We will use **negative-edge triggered** flip-flops for this up-counter design.

[Click here for a circuit diagram of a 3-bit asynchronous up counter](https://www.google.com/search?tbm=isch&q=3-bit+asynchronous+ripple+up+counter+using+jk+flip+flops)
**What to look for:** Three JK flip-flops (like IC 7476). J and K on all are tied to HIGH. The external CLK goes to the first flip-flop. The `Q` output of the first flip-flop connects to the CLK input of the second, and so on. The outputs are Q₂, Q₁, Q₀.

**Operation and Timing Diagram:**
The timing diagram shows how the states change with each falling edge of the clock.

1.  **Initial State:** Assume all outputs Q₂, Q₁, Q₀ are `000`.
2.  **Clock Pulse 1 (Falling Edge):** FF0 toggles, so Q₀ becomes `1`. Q₁ and Q₂ are unchanged. The count is `001`.
3.  **Clock Pulse 2 (Falling Edge):** FF0 toggles, so Q₀ goes from `1` to `0`. This `1→0` transition is a **falling edge**, which triggers FF1. FF1 toggles, and Q₁ becomes `1`. The count is `010`.
4.  **Clock Pulse 3 (Falling Edge):** FF0 toggles, so Q₀ becomes `1`. This is a rising edge for FF1's clock, so FF1 does not change. The count is `011`.
5.  **Clock Pulse 4 (Falling Edge):** FF0 toggles from `1` to `0`. This triggers FF1. FF1 toggles from `1` to `0`. This `1→0` transition in Q₁ triggers FF2. FF2 toggles, and Q₂ becomes `1`. The count is `100`.

This process continues until the count reaches `111`. On the 8th clock pulse, all flip-flops toggle back to `000`, and the cycle repeats.

[Click here for a timing diagram of a 3-bit asynchronous up counter](https://www.google.com/search?tbm=isch&q=3-bit+asynchronous+up+counter+timing+diagram)
**What to look for:** A clock signal and three output waveforms (Q₀, Q₁, Q₂). Q₀ toggles on every clock pulse. Q₁ toggles only when Q₀ falls. Q₂ toggles only when Q₁ falls. Observe the "ripple" delay from one output to the next.

#### 2.2 A 3-Bit Asynchronous Down Counter

A down counter counts in reverse, from `111` down to `000`. The circuit is very similar to the up counter, with one small but crucial change: the clock for the next flip-flop is taken from the **complemented output (Q')** of the previous flip-flop, instead of the normal output (Q).

*   **Circuit:** Use negative-edge triggered JK flip-flops, with J and K tied to HIGH. The external clock drives FF0. The `Q₀'` output drives the clock of FF1. The `Q₁'` output drives the clock of FF2.

[Click here for a circuit diagram of a 3-bit asynchronous down counter](https://www.google.com/search?tbm=isch&q=3-bit+asynchronous+ripple+down+counter+using+q+bar)
**What to look for:** A circuit almost identical to the up counter, but the connection to the next CLK input comes from the `Q'` pin of the previous flip-flop.

### 3. Modulus of a Counter (MOD-N Counters)

The **modulus** (or MOD number) of a counter is the number of unique states it sequences through before repeating.
*   An `n`-bit binary counter that counts through all possible states has a modulus of **2ⁿ**. For example, a 3-bit counter is a **MOD-8** counter (0 to 7). A 4-bit counter is a **MOD-16** counter.

Often, we need a counter with a modulus that is not a power of 2. For example, a **decade counter** (or BCD counter) is a **MOD-10** counter that counts from 0000 to 1001 (0 to 9) and then resets.

#### 3.1 Designing a MOD-N Counter

To create a counter with a modulus `N` where `N < 2ⁿ`, we use a standard binary counter and add logic to reset it prematurely.

**General Procedure:**
1.  Determine the number of flip-flops (`n`) required such that **2ⁿ ≥ N**.
2.  Connect the flip-flops as a standard asynchronous up counter.
3.  Use a NAND gate to detect when the counter reaches the desired reset state (which is the count `N`).
4.  Connect the output of this NAND gate to the asynchronous **CLEAR (CLR)** inputs of all the flip-flops.

**Example: Design a MOD-10 (Decade) Counter**
1.  **Flip-Flops:** We need to count up to 9. The desired reset state is 10. `2³=8` (too small). `2⁴=16` (sufficient). So, we need **4 flip-flops** (Q₃, Q₂, Q₁, Q₀).
2.  **Counter:** Connect them as a 4-bit asynchronous up counter.
3.  **Reset Logic:** The counter should reset when it reaches the state for decimal 10, which is `1010` in binary.
    *   We need to detect when `Q₃=1` AND `Q₁=1`.
    *   Connect `Q₃` and `Q₁` to the inputs of a NAND gate.
4.  **Connection:** The output of the NAND gate will be HIGH for all counts except 10. When the count momentarily becomes `1010`, the NAND gate output goes LOW. This LOW signal is connected to the active-low `CLR` inputs of all four flip-flops, causing them to reset to `0000` immediately.

Because the state `1010` exists for only a very short time (the propagation delay of the NAND gate), it is called a "glitch" state and is not counted as a stable state. The counter's stable states are 0 through 9.

[Click here for a circuit diagram of a MOD-10 asynchronous counter](https://www.google.com/search?tbm=isch&q=mod-10+asynchronous+counter+circuit+diagram)
**What to look for:** A 4-bit ripple counter with a NAND gate whose inputs are connected to Q₁ and Q₃. The output of the NAND gate is connected to the CLR pin of all four flip-flops.

---

### Questions

1.  What is the key difference between an asynchronous and a synchronous counter?
2.  Why are asynchronous counters also called "ripple counters"?
3.  What is the main advantage and the main disadvantage of an asynchronous counter?
4.  Draw the circuit diagram for a 4-bit asynchronous up counter using negative-edge triggered T flip-flops.
5.  **From Question Paper:** Realise and explain a 3-bit asynchronous up counter and show its timing diagram.
6.  Explain how to modify a 3-bit asynchronous up counter to make it a down counter.
7.  What is the modulus of a counter? How many flip-flops are required to build a MOD-12 counter?
8.  Design a MOD-6 asynchronous counter using JK flip-flops. Draw the circuit diagram and explain its reset logic.
