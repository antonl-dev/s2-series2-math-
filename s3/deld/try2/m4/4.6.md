## 4.6 Shift Registers, Ring Counter, and Johnson Counter

### 1. Introduction to Shift Registers

A **shift register** is a sequential logic circuit consisting of a chain of flip-flops connected in cascade. They are designed to store and move (or "shift") binary data. All flip-flops in a shift register are typically controlled by a common clock, making them a form of synchronous circuit.

**Key Applications:**
*   **Data Storage:** Temporarily holding data.
*   **Data Movement/Transfer:** Moving data from one system to another.
*   **Data Conversion:** Converting between serial and parallel data formats.
*   **Arithmetic Operations:** Performing multiplication and division by powers of 2.

Shift registers are classified based on how data is loaded into them (**input**) and retrieved from them (**output**). This gives rise to four basic types. We will use D flip-flops for the examples, as their operation (`Q` simply becomes `D` after a clock pulse) is ideal for shifting data.

#### 1.1 Serial-In, Serial-Out (SISO)

In a SISO shift register, data is loaded one bit at a time (serially), and it is read out one bit at a time (serially).

*   **Structure:** A chain of D flip-flops. The `Q` output of one flip-flop is connected to the `D` input of the next. The first flip-flop's `D` input is the serial data input line. The `Q` output of the last flip-flop is the serial data output line.
*   **Operation:** On each clock pulse, the bit at the `D` input of each flip-flop is transferred to its `Q` output. This effectively shifts the entire stored bit pattern one position to the right.
*   **Latency:** If a register has `N` flip-flops, it takes `N` clock pulses for a bit to travel from the input to the output.

[Click here for a diagram of a 4-bit SISO Shift Register](https://www.google.com/search?tbm=isch&q=4-bit+SISO+shift+register+using+D+flip+flops)
**What to look for:** Four D flip-flops in a row. A "Serial Data In" line goes to the first D input. The Q output of each flip-flop connects to the D input of the next. A "Serial Data Out" line comes from the Q output of the last flip-flop. A single CLK line connects to all flip-flops.

#### 1.2 Serial-In, Parallel-Out (SIPO)

In a SIPO register, data is loaded serially but read out simultaneously (in parallel). This is useful for converting serial data (like from a communication line) into parallel data (for a CPU bus).

*   **Structure:** Same as SISO, but with an additional output line tapped from the `Q` output of *each* flip-flop.
*   **Operation:** Data is shifted in serially, one bit per clock pulse. After `N` clock pulses (for an N-bit register), the entire N-bit word is available on the parallel output lines simultaneously.

[Click here for a diagram of a 4-bit SIPO Shift Register](https://www.google.com/search?tbm=isch&q=4-bit+SIPO+shift+register)
**What to look for:** A SISO register where each Q output (Q₀, Q₁, Q₂, Q₃) is also an output pin.

#### 1.3 Parallel-In, Serial-Out (PISO)

In a PISO register, data is loaded simultaneously (in parallel) and then shifted out one bit at a time (serially). This is used for converting parallel data to serial data.

*   **Structure:** This is more complex. It requires additional logic (usually multiplexers) to allow for two modes: **Load** and **Shift**. A `SHIFT/LOAD` control line is used to select the mode.
    *   When `LOAD` is active, the parallel data bits are loaded directly into the flip-flops, overriding the shifted data.
    *   When `SHIFT` is active, the register behaves like a SISO register, shifting the loaded data out serially.
*   **Operation:** First, a pulse on the `LOAD` line loads the N-bit word. Then, `N-1` clock pulses are required to shift the entire word out through the serial output.

[Click here for a diagram of a 4-bit PISO Shift Register](https://www.google.com/search?tbm=isch&q=4-bit+PISO+shift+register+with+load+shift+control)
**What to look for:** D flip-flops where the D input of each is fed by a 2-to-1 MUX. The MUX selects between the parallel input bit and the Q output of the previous flip-flop, controlled by a SHIFT/LOAD line.

#### 1.4 Parallel-In, Parallel-Out (PIPO)

In a PIPO register, data is loaded in parallel and read out in parallel. It primarily serves as a temporary storage device, often called a **buffer register** or **latch**.

*   **Structure:** The simplest of the four. It consists of a set of independent D flip-flops with a common clock. There are `N` input lines and `N` output lines.
*   **Operation:** On a single clock pulse, the data present on the parallel input lines is captured and stored in the flip-flops, appearing on the parallel output lines.

[Click here for a diagram of a 4-bit PIPO Shift Register](https://www.google.com/search?tbm=isch&q=4-bit+PIPO+register)
**What to look for:** Four D flip-flops with a common clock. Each has its own separate data input and data output. There is no connection between the flip-flops.

### 2. Ring Counter

A **ring counter** is a special type of shift register where the output of the last flip-flop is fed back to the input of the first flip-flop. This creates a closed loop where a bit pattern circulates.

*   **Structure:** A SISO shift register with the serial output connected to the serial input.
*   **Initialization:** It must be pre-loaded with a specific pattern, usually a single `1` and the rest `0`s (e.g., `1000`). This is often done using the asynchronous PRESET and CLEAR inputs.
*   **Operation:** The single `1` bit circulates around the register on each clock pulse.
*   **Number of States:** For an `N`-bit ring counter, there are only **`N`** unique states. This makes it inefficient in terms of state usage (an N-bit register can represent 2ⁿ states, but a ring counter only uses N of them).

**Example: A 4-Bit Ring Counter**
1.  Initialize to `1000` (Q₀=1, Q₁=0, Q₂=0, Q₃=0).
2.  After clock pulse 1: `0100`
3.  After clock pulse 2: `0010`
4.  After clock pulse 3: `0001`
5.  After clock pulse 4: `1000` (returns to initial state)

It is a **MOD-4** counter.

[Click here for a circuit and timing diagram of a Ring Counter](https://www.google.com/search?tbm=isch&q=4-bit+ring+counter+circuit+and+timing+diagram)
**What to look for:** A 4-bit shift register with the Q output of the last stage connected directly to the D input of the first stage. The timing diagram will show a single high pulse moving sequentially through the outputs Q₀ to Q₃.

### 3. Johnson Counter (Twisted Ring Counter)

The **Johnson counter** is a variation of the ring counter. Instead of feeding the `Q` output back, it feeds the **inverted output (Q')** of the last flip-flop back to the input of the first. This creates a unique sequence of states.

*   **Structure:** A SISO shift register with the `Q'` output of the last flip-flop connected to the `D` input of the first.
*   **Number of States:** An `N`-bit Johnson counter has **`2N`** unique states, making it more efficient than a standard ring counter.
*   **Sequence:** The counter first fills with `1`s from one direction, and then fills with `0`s from the same direction.

**Example: A 4-Bit Johnson Counter**
1.  Initialize to `0000`.
2.  Pulse 1: Q₃' (which is 1) is fed to D₀. State becomes `1000`.
3.  Pulse 2: `1100`
4.  Pulse 3: `1110`
5.  Pulse 4: `1111`
6.  Pulse 5: Q₃' (now 0) is fed to D₀. State becomes `0111`.
7.  Pulse 6: `0011`
8.  Pulse 7: `0001`
9.  Pulse 8: `0000` (returns to initial state)

It is a **MOD-8** counter.

[Click here for a circuit and timing diagram of a Johnson Counter](https://www.google.com/search?tbm=isch&q=4-bit+johnson+counter+circuit+and+timing+diagram)
**What to look for:** A 4-bit shift register with the Q' (Q-bar) output of the last stage connected to the D input of the first stage. The timing diagram will show the outputs sequentially going high, then sequentially going low.

---

### Questions

1.  What is a shift register? List its four basic types based on input/output methods.
2.  Which type of shift register is used to convert serial data to parallel data?
3.  Which type of shift register requires a `SHIFT/LOAD` control line and why?
4.  What is a ring counter? How many states does a 5-bit ring counter have?
5.  **From Question Paper:** Draw the circuit of a 4-bit ring counter and give its timing diagram.
6.  What is a Johnson counter? How is it different from a ring counter?
7.  How many states does a 5-bit Johnson counter have?
8.  Show the sequence of states for a 3-bit Johnson counter, starting from the state `000`.
